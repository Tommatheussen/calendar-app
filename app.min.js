"use strict";!function(){angular.module("topToolbar",["ngMaterial","angular-google-gapi"])}();
"use strict";!function(){function o(o,t,n){function l(){n.is("login")||n.go("login")}var e=this;e.getUser=t.getUser,e.goToLogin=l,e.isLoggedIn=t.isLogin}o.$inject=["GAuth","GData","$state"],angular.module("topToolbar").component("topToolbar",{templateUrl:"top-toolbar/top-toolbar.tmpl.html",controller:o,controllerAs:"vm"})}();
"use strict";!function(){angular.module("month",["ngMaterial"])}();
"use strict";!function(){function t(t,n,e,o,a,r,i,l,s){function u(){var t=new Date;D.offsetDays=m(t.getMonth(),t.getUTCFullYear()),D.days=g(t.getMonth(),t.getUTCFullYear());var n=new Date(t.getFullYear(),t.getMonth(),1).toISOString(),e=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString();o.getPreviousEvents(n,e).then(function(t){d=t,f()}),o.getShifts().then(function(t){D.shifts=t})}function f(){D.days.map(function(t){var n=i("amDateFormat")(t.date,"DD-MM-YYYY");t.shift=d[n]?d[n].shift:null})}function c(t){return new Array(t)}function h(){s.showHelp=!0}function g(t,n){for(var e=new Date(n,t,1),o=[];e.getMonth()===t;)o.push({date:new Date(e.toString())}),e.setDate(e.getDate()+1);return o}function m(t,n){var e=new Date(n,t,1),o=(e.getDay()||7)-1;return o}var D=this;D.$onInit=u,D.saveShifts=h,D.getRange=c;var d={};D.smallScreen=t("xs"),n.$watch(function(){return t("xs")},function(t){D.smallScreen=t}),D.setShift=function(t,n){t.shift===n?t.shift=null:t.shift=n}}t.$inject=["$mdMedia","$scope","GApi","calendarService","$window","calendarId","$filter","$mdDialog","$rootScope"],angular.module("month").component("month",{templateUrl:"month/month.tmpl.html",controller:t,controllerAs:"vm",bindings:{flex:"="}})}();
"use strict";!function(){angular.module("footer",["ngMaterial"])}();
"use strict";!function(){function o(o){function t(){o.showHelp=!0}var e=this;e.openHelp=t,o.$on("help:closed",function(){o.showHelp=!1})}o.$inject=["$rootScope"],angular.module("footer").component("footer",{templateUrl:"footer/footer.tmpl.html",controller:o,controllerAs:"vm"})}();
"use strict";!function(){angular.module("login",["angular-google-gapi","ui.router"])}();
"use strict";!function(){angular.module("login").config(["$stateProvider",function(n){var o={name:"login",url:"/login",component:"login"};n.state(o)}])}();
"use strict";!function(){function n(n,o,t){function i(){o.isLogin()?l():null}function l(){console.log("user is: ",o.getUser()),t.go("calendar")}function e(){n.checkAuth().then(function(){l()},function(){n.login().then(function(){l()})})}var c=this;c.$onInit=i,c.doLogin=e}n.$inject=["GAuth","GData","$state"],angular.module("login").component("login",{templateUrl:"login/login.tmpl.html",controller:n,controllerAs:"vm",bindings:{flex:"="}})}();
"use strict";!function(){angular.module("error",[])}();
"use strict";!function(){function o(o,t){function r(o){a.push(o),s||e()}function e(){s=!0;var o=a.shift();t.show(i).then(function(t){"ok"===t&&n(o),0===a.length?s=!1:e()})}function n(t){l.locals={error:t},o.show(l)}var i=t.simple().textContent("Oops, that's not quite right...").action("Details").highlightAction(!0).position("bottom right").hideDelay(5e3),l={templateUrl:"error-handler/error-dialog.tmpl.html",controllerAs:"vm",controller:"errorDialogController"},a=[],s=!1;return{addToast:r,openToast:e,openDialog:n}}o.$inject=["$mdDialog","$mdToast"],angular.module("error").factory("errorService",o)}();
"use strict";!function(){function r(r){r.decorator("$exceptionHandler",["$delegate","$injector",function(r,e){return"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value:function(){var r={};return Object.getOwnPropertyNames(this).forEach(function(e){r[e]=this[e]},this),r},configurable:!0,writable:!0}),function(t,o){var n=e.get("errorService");console.log("got exception: ",t,o);var i=JSON.parse(JSON.stringify(t));n.addToast(i),r(t,o)}}])}r.$inject=["$provide"],angular.module("error").config(r)}();
"use strict";!function(){function r(r,o){function e(){r.hide()}var n=this;n.close=e,n.error=o}r.$inject=["$mdDialog","error"],angular.module("error").controller("errorDialogController",r)}();
"use strict";!function(){angular.module("calendar",["ngMaterial","ui.router"])}();
"use strict";!function(){angular.module("calendar").factory("calendarService",["$http","GApi","calendarId","$filter","errorService","$q",function(t,e,n,r,a,i){function c(){function e(t){return t.data}return t.get("shifts.json").then(e).catch(u)}function s(t,a){function i(t){var e={};return t.items.map(function(t){var n=r("amDateFormat")(t.start.dateTime,"DD-MM-YYYY");e[n]={shift:t.summary,id:t.id}}),e}return e.executeAuth("calendar","events.list",{calendarId:n,fields:["items/start, items/summary, items/id"],timeMin:t,timeMax:a}).then(i).catch(u)}function u(t){return console.log(t),a.addToast(t),i.reject(t)}return{getShifts:c,getPreviousEvents:s}}])}();
"use strict";!function(){angular.module("calendar").filter("duration",function(){return function(n){var t=n.start.hour;return t+=":",t+=n.start.minute,t+="-",t+=n.end.hour,t+=":",t+=n.end.minute}})}();
"use strict";!function(){angular.module("calendar").constant("calendarId","hj3i0ucmkenfjmdbrr85v7o2q8@group.calendar.google.com")}();
"use strict";!function(){angular.module("calendar").config(["$stateProvider",function(a){var n={name:"calendar",url:"/",component:"calendar"};a.state(n)}])}();
"use strict";!function(){function t(t,e,n,a,r,s,i,o,f){function u(){y.currentDate.setMonth(y.currentDate.getMonth()-1,1),l()}function c(){y.currentDate.setMonth(y.currentDate.getMonth()+1,1),l()}function h(){a.getShifts().then(function(t){y.shifts=t}),l()}function l(){y.offsetDays=M(y.currentDate.getMonth(),y.currentDate.getUTCFullYear()),y.days=p(y.currentDate.getMonth(),y.currentDate.getUTCFullYear());var t=new Date(y.currentDate.getFullYear(),y.currentDate.getMonth(),1).toISOString(),e=new Date(y.currentDate.getFullYear(),y.currentDate.getMonth()+1,1).toISOString();a.getPreviousEvents(t,e).then(function(t){w=t,d()})}function d(){y.days.map(function(t){var e=i("amDateFormat")(t.date,"DD-MM-YYYY");t.shift=w[e]?w[e].shift:null})}function D(t){return new Array(t)}function g(t,e){var n=new Date(t);return n.setHours(e.hour),n.setMinutes(e.minute),{dateTime:n}}function v(t){var e,a={calendarId:s},r=i("amDateFormat")(t.date,"DD-MM-YYYY");t.shift&&!w[r]?(e="insert",a.start=g(t.date,y.shifts[t.shift].start),a.end=g(t.date,y.shifts[t.shift].end),a.summary=t.shift):t.shift&&w[r]&&w[r].shift!==t.shift?(e="update",a.eventId=w[r].id,a.start=g(t.date,y.shifts[t.shift].start),a.end=g(t.date,y.shifts[t.shift].end),a.summary=t.shift):!t.shift&&w[r]&&(e="delete",a.eventId=w[r].id);var o=e?n.createRequest("calendar",S[e],a):null;return o}function m(){var t=[];if(y.days.forEach(function(e){var n=v(e);n&&t.push(n)},this),t.length>0){for(var e=r.gapi.client.newBatch(),n=0;n<t.length;n++)e.add(t[n]);e.then(function(t){y.days.forEach(function(t){var e=i("amDateFormat")(t.date,"DD-MM-YYYY");w[e]=t.shift},this);var e=o.alert().title("Update success").textContent("De shiften zijn succesvol opgeslagen in Google Calendar.").ok("Super!");o.show(e)},function(t){console.log(t)},this)}}function p(t,e){for(var n=new Date(e,t,1),a=[];n.getMonth()===t;)a.push({date:new Date(n.toString())}),n.setDate(n.getDate()+1);return a}function M(t,e){var n=new Date(e,t,1),a=(n.getDay()||7)-1;return a}var y=this;y.$onInit=h,y.saveShifts=m,y.getRange=D,y.prevMonth=u,y.nextMonth=c,y.today=new Date,y.currentDate=new Date;var Y;f.$on("help:opened",function(){Y=angular.copy(y.days[9-y.offsetDays].shift),y.days[9-y.offsetDays].shift="klv"}),f.$on("help:closed",function(){y.days[9-y.offsetDays].shift=Y});var w={},S={insert:"events.insert",delete:"events.delete",update:"events.patch"};y.setShift=function(t,e){t.shift===e?t.shift=null:t.shift=e}}t.$inject=["$mdMedia","$scope","GApi","calendarService","$window","calendarId","$filter","$mdDialog","$rootScope"],angular.module("calendar").component("calendar",{templateUrl:"calendar/calendar.tmpl.html",controller:t,controllerAs:"vm",bindings:{flex:"="}})}();
"use strict";!function(){angular.module("calendarApp",["ngMaterial","calendar","login","topToolbar","footer","error","ui.router","angular-google-gapi","angulartics","angulartics.google.analytics","angularMoment","angularHelpOverlay"])}();
"use strict";!function(){function e(e,n,t,o,r){var c="576434137862-eb52i5mrh8lag6tpnsrpviqjfntprnq3.apps.googleusercontent.com";n.load("calendar","v3").catch(function(e,n){console.log("error occured",e,n)}),e.setClient(c),e.setScope("https://www.googleapis.com/auth/calendar"),o.onBefore({to:"calendar"},function(){var n=r.defer();return e.checkAuth().then(function(){n.resolve(!0)},function(){n.resolve(t.target("login"))}),n.promise})}e.$inject=["GAuth","GApi","$state","$transitions","$q"],angular.module("calendarApp").run(e)}();
"use strict";!function(){angular.module("calendarApp").config(["$urlRouterProvider","$analyticsProvider",function(r,e){r.otherwise("/"),e.trackExceptions(!0)}])}();